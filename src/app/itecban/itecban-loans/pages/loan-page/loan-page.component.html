<app-loader *ngIf="loading"></app-loader>

<div class="row page-non-tabbed pb-1">
    <div class="col-xs-12 p-dynamic p-1">
        <div class="panel">
            <div class="panel-body">
                <div class="row">
                    <div class="col-xs-12 col-sm-3">
                        <div class="borde-superior"></div>
                        <div class=" fs-12 text-uppercase text-os-semibold">
                            {{ 'ITECBAN-LOANS.LOAN-PAGE.CURRENCY-DETAIL.PENDING-CAPITAL' | translate }}
                        </div>
                        <div class="fs-28 text-os-semibold text-no-warp" *ngIf="loanDetail && loanDetail.pendingAmount.amount && loanDetail.pendingAmount.currency.code">
                            {{ loanDetail.pendingAmount.amount | CurrencyPipe: loanDetail.pendingAmount.currency.code }}
                        </div>
                        <div class="mb-1 visible-xs"></div>
                    </div>

                    <div class="col-xs-6 col-sm-3">
                        <div class="borde-superior"></div>
                        <div class=" fs-12 text-uppercase text-os-semibold">
                            {{ 'ITECBAN-LOANS.LOAN-PAGE.CURRENCY-DETAIL.EXPIRED-CAPITAL' | translate }}
                        </div>
                        <div class="amount-section text-size-secondary text-os-light mt-10 text-no-warp" *ngIf="loanDetail && loanDetail.outstandingCapital.amount && loanDetail.outstandingCapital.currency.code">
                            {{ loanDetail.outstandingCapital.amount | CurrencyPipe: loanDetail.outstandingCapital.currency.code }}
                        </div>
                    </div>

                    <div class="col-xs-6 col-sm-3">
                        <div class="borde-superior"></div>
                        <div class=" fs-12 text-uppercase text-os-semibold">
                            {{ 'ITECBAN-LOANS.LOAN-PAGE.CURRENCY-DETAIL.EXPIRED-INTERESTS' | translate }}
                        </div>
                        <div class="fs-20 text-os-light text-no-warp" *ngIf="loanDetail && loanDetail.outstandingCapital.amount && loanDetail.outstandingCapital.currency.code">
                            {{ loanDetail.outstandingCapital.amount | CurrencyPipe: loanDetail.outstandingCapital.currency.code }}
                        </div>
                    </div>

                    <div class="col-sm-3 pt-1 hidden-xs text-right">
                        <button class="btn btn-primary btn-small" (click)="loanAmortize()">
                            {{ 'ITECBAN-LOANS.LOAN-PAGE.CURRENCY-DETAIL.BUTTON-AMORTIZE-LOAN' | translate }}
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <osb-tabs [tabs]="pageConfig.tabs" [(view)]="view"></osb-tabs>

        <div class="mb-1 min-h-date">
            <div class="panel mt-1">
                <div class="panel-body">
                    <osb-loan-amortizations-table *ngIf="view==='amortizationsTable'" [idLoan]="idLoan" scroll-collapse-emitter></osb-loan-amortizations-table>
                    <!-- <osb-fees-paid *ngIf="view==='feesPaid'" [idLoan]="idLoan" scroll-collapse-emitter></osb-fees-paid> -->
                    <osb-loan-movements *ngIf="view==='movements'" [idLoan]="idLoan" scroll-collapse-emitter></osb-loan-movements>
                    <osb-loan-info-conditions *ngIf="view==='conditions'" [loanDetail]="loanDetail" scroll-collapse-emitter></osb-loan-info-conditions>
                </div>
            </div>
        </div>

    </div>
</div>